<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title></title>


</head>
<body>
<button onclick="selectTag()">查询</button>
<script>
////    function selectTag() {
////        var xhr = new XMLHttpRequest();
////        xhr.open("GET", "/ajax/ajax_m.aspx?get=1&tag=" + escape("饮食"), true);
////        xhr.send();
////        xhr.onreadystatechange = function() {
////            if (xhr.readyState == 4) {
////                if (xhr.status == 200) {
////                    alert(xhr.responseText);
////                }
////                else {
////                    alert(xhr.status);
////                }
////            }
////        }
////    }

    
    
</script>

<style>
.ddd{ width:100px; height:50px; border:1px solid #000;}
</style>
<div class="ddd"></div>
<div class="ddd"></div>
<div class="ddd"></div>

<script>

    var divList = document.getElementsByTagName('div');
    for (var i = 0; i < divList.length; i++) {
        divList[i].onclick = (function(a) {
            return function() {
                divList[a].style.background = "#ccc";
            }
        })(i)


    }


    
</script>

<style>
#myDiv1,#myDiv2{width:100px; height:100px; background:#ccc; display:none;}
</style>
<div id='myDiv1'>
<a href='javascript:void(0)' onclick='winpop.close()'>关闭1</a>
</div>

<div id='myDiv2'>
<a href='javascript:void(0)' onclick='winpop.close()'>关闭2</a>
</div>

<a href='javascript:void(0)'  id='showdiv1'>显示div1</a>
<br/><br/>
<a href='javascript:void(0)'  id='showdiv2'>显示div2</a>
<br/><br/>
<a href='javascript:void(0)' onclick='showIframe("http://cnblogs.com",500,600)'>显示iframe</a>

<br/><br/><br/><br/><br/><br/>
<a href='javascript:void(0)' onclick='kkk(arguments[0])'>aaaaaaa</a>
<br/><br/>
<div onclick='kkk()'>bbbbbb</div>
<div id='test'></div>
<script>
    /*document.onclick = function() {
        console.log(121);
    }*/
    /*function ss() {
        console.log(121);
    }*/

    function showDiv(id) {
        //console.log(winpop.core_version);
        winpop.init({
            type:1,
            content:id,
            shadeClose:false
        })
    }


    function showIframe(url,width,height) {
        winpop.init({
            type:2,
            width:width,
            height:height,
            content:url,
            closeBtnType:2
        })
    }

    document.getElementById('showdiv1').addEventListener('click',function(){showDiv('myDiv1')},false);
    document.getElementById('showdiv2').addEventListener('click',function(){showDiv('myDiv2')},false);

    document.addEventListener('click',function(){console.log(121)},false);

    function kkk(e) {
        console.log('kkk');
        e=e||window.event;
        e.stopPropagation();
    }


    // 处理钩子的对象  
var hook = (function(){  
    return {  
        timer:null,  
        init:function(){  
            this.callHooks('init');  
        },    
        callHooks:function(init){  
            var s = "hook_" + init + '_event',  
            f = [];   
            for(var h in window){  
                if(h.indexOf(s) != 0) continue;  
                f.push(h);  
            }     
            this.hooksTimeout(f);  
        },    
        hooksTimeout:function(hooks){  
            if(0 === hooks.length){  
                if(this.timer) clearTimeout(this.timer);  
                return;  
            }     
 
            var h = hooks.shift();  
            window[h].apply();  
            window[h] = undefined;  
 
            window.setTimeout(this.hooksTimeout(hooks), 3000);  
        }     
    }     
}());  
 
// 钩子1  
var hook_init_event_tpl_html = function(){  
    document.getElementById('test').innerHTML = 'This is HTML!';  
}  
 
// 钩子2  
var hook_init_event_tpl_console = function(){  
    console.log('This is console!');  
}  
 
// 最好在页面加载完之前调用，也就是在window.onload()之前  
hook.init(); 

</script>
<script src="../js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../js/winpop.js" type="text/javascript"></script>
</body>
</html>
